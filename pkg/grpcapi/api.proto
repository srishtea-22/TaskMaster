syntax = "proto3";

package grpcapi;

option go_package = "github.com/srishtea-22/TaskMaster/pkg/grpcapi";

service WorkerService {
  rpc SubmitTask (TaskRequest) returns (TaskResponse) {}
}

message TaskRequest {
  string task_id = 1;
  string data = 2;
}

message TaskResponse {
  string task_id = 1;
  string message = 2;
  bool success = 3;
}

service CoordinatorService {
  rpc SendHeartbeat (HeartbeatRequest) returns (HeartbeatResponse) {}
}

message HeartbeatRequest {
  uint32 worker_id = 1;
  string address = 2;
}

message HeartbeatResponse {
  bool acknowledged = 1;
}